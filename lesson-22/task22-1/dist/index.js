(()=>{"use strict";const e=document.querySelector(".weather-widget__input"),t=document.querySelector("#btn-submit"),n=document.querySelector(".weather-widget__city"),r=document.querySelector("#wind"),o=document.querySelector("#humidity"),d=document.querySelector(".weather-widget__desc"),a=document.querySelector("#pressure"),i=document.querySelector(".weather-widget__icon"),c=document.querySelector("#deg"),u=document.querySelector("#temp"),m=document.querySelector(".weather-widget__day"),s=document.querySelector(".weather-widget__date"),g=document.querySelector(".icon-wind"),y=document.querySelector(".weather-widget__time");let l,w,S,h,p;function q(){let t;y.textContent="",i.innerHTML="",clearInterval(p),S=e.value.toUpperCase(),n.textContent=S,fetch(`https://api.openweathermap.org/data/2.5/weather?q=${S}&units=metric&APPID=5d066958a60d315387d9492393935c19`).then((e=>e.json())).then((e=>{if(200!=e.cod)alert(e.message);else{function n(){const e=new Date,t=e.getTime(),n=6e4*e.getTimezoneOffset(),r=new Date(t+n+1e3*h),o=r.getFullYear(),d=r.getMonth()+1,a=r.getDate(),i=r.getDay(),c=`${r.getHours().toString().padStart(2,"0")}:${r.getMinutes().toString().padStart(2,"0")}:${r.getSeconds().toString().padStart(2,"0")}`;y.textContent=c;m.textContent=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][i],s.textContent=`${a}/${d}/${o}`}h=e.timezone,n(),p=setInterval(n,1e3),r.textContent=e.wind.speed.toFixed(2),o.textContent=e.main.humidity+" %",d.textContent=e.weather[0].description,a.textContent=e.main.pressure,c.textContent=e.wind.deg,g.style.transform=`rotate(${e.wind.deg}deg)`,u.textContent=Math.floor(e.main.temp),l=e.weather[0].icon,w=`http://openweathermap.org/img/w/${l}.png`,t=document.createElement("img"),t.setAttribute("src",w),i.append(t)}}))}t.addEventListener("click",q),e.addEventListener("keydown",(e=>{"Enter"===e.key&&q()}))})();